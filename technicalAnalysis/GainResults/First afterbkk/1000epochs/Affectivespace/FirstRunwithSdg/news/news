Working on... AAPL
15.571701720841297
0.005338458253266777
=========================================================
working on d,u and l,le 0.5 256 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 256 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.0001


=========================================================
=========================================================
=========================================================
=========================================================
=========================================================
maxd,maxu,maxl,maxle: 0.5 756 0.01 0.001
Chart for BEST MODEL FOR: AAPL


F1,score 0.5670962850644427
G-score: 0.46811667546735947
Accuracy 0.4946902652229883
Window: 140
[[185 321]
 [250 374]]
Vol pos 3.8672988719226282
Vol neg 2.495478726265008
Real Percentage of gain: -23.951718947458843
Percentage of gain: 0.6521254130154245
Total gain: 736.9017167074296
000000000000000000000000000000000000000000000000
Percentile:  0
[[152 226]
 [173 202]]
753/753 [==============================] - 0s 77us/step
[2.6294148455894644, 0.4701195219915068]
Percentile:  1
[[ 6 62]
 [49 35]]
152/152 [==============================] - 0s 87us/step
[3.3144233854193437, 0.2697368413209915]
Percentile:  2
[[27 33]
 [23 56]]
139/139 [==============================] - 0s 87us/step
[2.9110716264024914, 0.5971223032302994]
Percentile:  3
[[ 0  0]
 [ 4 45]]
49/49 [==============================] - 0s 101us/step
[0.36202160375458853, 0.9183673493716181]
Percentile:  4
[[35]]
35/35 [==============================] - 0s 146us/step
[0.3299346800361361, 1.0]
000000000000000000000000000000000000000000000000
Working on... AMZN
11.150617492631287
0.0007590184265374819
=========================================================
working on d,u and l,le 0.5 256 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 256 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.0001


=========================================================
=========================================================
=========================================================
=========================================================
=========================================================
maxd,maxu,maxl,maxle: 0.5 756 0.01 0.001
Chart for BEST MODEL FOR: AMZN


F1,score 0.8425974025974027
G-score: 0.2498369624115569
Accuracy 0.7320954890297536
Window: 140
[[ 17 234]
 [ 69 811]]
Vol pos 2.5179840670566644
Vol neg 1.9282447702321384
Real Percentage of gain: 213.04938935087665
Percentage of gain: 1.32681931223924
Total gain: 1500.6326421425804
000000000000000000000000000000000000000000000000
Percentile:  0
[[  4 195]
 [ 32 399]]
630/630 [==============================] - 0s 71us/step
[3.2485358395273725, 0.6396825406286452]
Percentile:  1
[[ 10  26]
 [ 29 320]]
385/385 [==============================] - 0s 70us/step
[0.5982555312322235, 0.8571428571428571]
Percentile:  2
[[ 3 13]
 [ 0 59]]
75/75 [==============================] - 0s 128us/step
[1.082221368700266, 0.8266666666666667]
Percentile:  3
[[ 0  0]
 [ 2 31]]
33/33 [==============================] - 0s 139us/step
[0.19324140812298565, 0.9393939393939394]
Percentile:  4
[[0 0]
 [5 1]]
6/6 [==============================] - 0s 249us/step
[1.2475453615188599, 0.1666666716337204]
000000000000000000000000000000000000000000000000
Working on... GOOGL
9.280622946926826
0.003477111910863453
=========================================================
working on d,u and l,le 0.5 256 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 256 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.0001


=========================================================
=========================================================
=========================================================
=========================================================
=========================================================
maxd,maxu,maxl,maxle: 0.5 512 0.01 0.001
Chart for BEST MODEL FOR: GOOGL


F1,score 0.5520833333333333
G-score: 0.5536073287819395
Accuracy 0.5433628324913767
Window: 140
[[296 159]
 [357 318]]
Vol pos 2.9601193892541158
Vol neg 2.9495484156519605
Real Percentage of gain: 1.8496348707858496
Percentage of gain: 0.2615454181642615
Total gain: 295.54632252561555
000000000000000000000000000000000000000000000000
Percentile:  0
[[134  98]
 [ 99  80]]
411/411 [==============================] - 0s 52us/step
[2.597472132847547, 0.5206812654968596]
Percentile:  1
[[ 83  28]
 [120 132]]
363/363 [==============================] - 0s 59us/step
[1.7392503824444185, 0.5922865012132104]
Percentile:  2
[[67 30]
 [67 42]]
206/206 [==============================] - 0s 58us/step
[1.9346198873612488, 0.5291262138092402]
Percentile:  3
[[11  3]
 [46 41]]
101/101 [==============================] - 0s 84us/step
[1.851465836536176, 0.5148514851485149]
Percentile:  4
[[ 0  0]
 [24 23]]
47/47 [==============================] - 0s 107us/step
[1.6628193476415696, 0.48936170212765956]
000000000000000000000000000000000000000000000000
Working on... MSFT
5.843279709392834
0.0
=========================================================
working on d,u and l,le 0.5 256 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 256 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.0001


=========================================================
=========================================================
=========================================================
=========================================================
=========================================================
maxd,maxu,maxl,maxle: 0.5 512 0.01 0.001
Chart for BEST MODEL FOR: MSFT


F1,score 0.6622251832111926
G-score: 0.4584813297773292
Accuracy 0.5513274335755711
Window: 140
[[126 293]
 [214 497]]
Vol pos 1.6314102741676353
Vol neg 1.5059287035416562
Real Percentage of gain: 25.76218026382058
Percentage of gain: 0.22377234346090014
Total gain: 252.8627481108172
000000000000000000000000000000000000000000000000
Percentile:  0
[[ 94 198]
 [ 73 179]]
544/544 [==============================] - 0s 52us/step
[2.6154174348887276, 0.5018382352941176]
Percentile:  1
[[ 20  54]
 [ 68 171]]
313/313 [==============================] - 0s 55us/step
[2.454415703733889, 0.6102236424105617]
Percentile:  2
[[ 2 21]
 [43 97]]
163/163 [==============================] - 0s 67us/step
[1.7574751538001687, 0.6073619635558567]
Percentile:  3
[[ 9 11]
 [18 43]]
81/81 [==============================] - 0s 63us/step
[1.4726529553716565, 0.6419753086419753]
Percentile:  4
[[ 1  9]
 [12  6]]
28/28 [==============================] - 0s 68us/step
[5.026923656463623, 0.25]
000000000000000000000000000000000000000000000000
Working on... FB
12.871078806426938
0.005182421227207363
=========================================================
working on d,u and l,le 0.5 256 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 256 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.0001


=========================================================
=========================================================
=========================================================
=========================================================
=========================================================
maxd,maxu,maxl,maxle: 0.5 756 0.01 0.001
Chart for BEST MODEL FOR: FB


F1,score 0.6764705882352942
G-score: 0.5607014357164061
Accuracy 0.5724381623335525
Window: 140
[[142 121]
 [363 506]]
Vol pos 2.769302721894794
Vol neg 3.490524867336981
Real Percentage of gain: 61.6296987407431
Percentage of gain: 0.09283933568615511
Total gain: 105.0941279967276
000000000000000000000000000000000000000000000000
Percentile:  0
[[129  83]
 [100 210]]
522/522 [==============================] - 0s 84us/step
[1.329395464553687, 0.6494252871279516]
Percentile:  1
[[  8  29]
 [192 239]]
468/468 [==============================] - 0s 68us/step
[2.1775883823378472, 0.5277777767588949]
Percentile:  2
[[ 4  9]
 [47 45]]
105/105 [==============================] - 0s 86us/step
[2.0398549534025645, 0.4666666667376246]
Percentile:  3
[[ 0  0]
 [11  3]]
14/14 [==============================] - 0s 138us/step
[3.8665430545806885, 0.2142857164144516]
Percentile:  4
[[ 0  0]
 [12  9]]
21/21 [==============================] - 0s 106us/step
[2.785409927368164, 0.4285714328289032]
000000000000000000000000000000000000000000000000
Working on... INTC
6.746031746031759
0.009064539521396952
=========================================================
working on d,u and l,le 0.5 256 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 256 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.0001


=========================================================
=========================================================
=========================================================
=========================================================
=========================================================
maxd,maxu,maxl,maxle: 0.5 256 0.01 0.0001
Chart for BEST MODEL FOR: INTC


F1,score 0.5266507557677009
G-score: 0.47171593701054976
Accuracy 0.4743816245992276
Window: 140
[[206 242]
 [353 331]]
Vol pos 2.0539560671837007
Vol neg 2.5798533500770406
Real Percentage of gain: -18.56090842841637
Percentage of gain: -0.38165930672985143
Total gain: -432.03833521819183
000000000000000000000000000000000000000000000000
Percentile:  0
[[ 56  60]
 [ 97 141]]
354/354 [==============================] - 0s 41us/step
[1.3069135890589596, 0.556497175141243]
Percentile:  1
[[ 68  46]
 [114 114]]
342/342 [==============================] - 0s 46us/step
[1.4872306411029304, 0.5321637425157759]
Percentile:  2
[[42 85]
 [87 64]]
278/278 [==============================] - 0s 45us/step
[1.928571233646475, 0.38129496456478995]
Percentile:  3
[[21 42]
 [41 10]]
114/114 [==============================] - 0s 52us/step
[1.9936601571869432, 0.2719298261299468]
Percentile:  4
[[19  9]
 [13  1]]
42/42 [==============================] - 0s 96us/step
[1.7856710624127161, 0.47619047619047616]
000000000000000000000000000000000000000000000000
Working on... CSCO
6.455652128779988
0.0
=========================================================
working on d,u and l,le 0.5 256 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 256 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.0001


=========================================================
=========================================================
=========================================================
=========================================================
=========================================================
maxd,maxu,maxl,maxle: 0.5 512 0.01 0.0001
Chart for BEST MODEL FOR: CSCO


F1,score 0.6343042071197411
G-score: 0.5969658684149246
Accuracy 0.5982222226460775
Window: 140
[[281 196]
 [256 392]]
Vol pos 1.911712527749849
Vol neg 1.7372422234406923
Real Percentage of gain: 57.1973733819278
Percentage of gain: 0.4456435966048493
Total gain: 501.34904618045556
000000000000000000000000000000000000000000000000
Percentile:  0
[[128  92]
 [148 148]]
516/516 [==============================] - 0s 59us/step
[1.7480789543122284, 0.5348837209302325]
Percentile:  1
[[ 64  32]
 [ 69 158]]
323/323 [==============================] - 0s 64us/step
[1.444824668229918, 0.6873065015479877]
Percentile:  2
[[15 35]
 [23 65]]
138/138 [==============================] - 0s 75us/step
[1.5634693060664162, 0.5797101449275363]
Percentile:  3
[[41 17]
 [13 15]]
86/86 [==============================] - 0s 83us/step
[1.3822223973828693, 0.651162794856138]
Percentile:  4
[[32 20]
 [ 2  4]]
58/58 [==============================] - 0s 86us/step
[1.1722951572516869, 0.6206896613384115]
000000000000000000000000000000000000000000000000
Working on... CMCSA
10.63829787234043
0.0
=========================================================
working on d,u and l,le 0.5 256 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 256 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.0001


=========================================================
=========================================================
=========================================================
=========================================================
=========================================================
maxd,maxu,maxl,maxle: 0.5 756 0.01 0.0001
Chart for BEST MODEL FOR: CMCSA


F1,score 0.5699391833188532
G-score: 0.5626284120866178
Accuracy 0.5623342148188887
Window: 140
[[308 232]
 [263 328]]
Vol pos 2.861929343061325
Vol neg 2.8534054289538404
Real Percentage of gain: 93.41184642284031
Percentage of gain: 0.36052287785574866
Total gain: 407.75137485485175
000000000000000000000000000000000000000000000000
Percentile:  0
[[142  85]
 [ 93 107]]
427/427 [==============================] - 0s 76us/step
[1.4212479138402248, 0.5831381733021077]
Percentile:  1
[[102  95]
 [129 175]]
501/501 [==============================] - 0s 76us/step
[1.661944884026122, 0.5528942115768463]
Percentile:  2
[[17 25]
 [30 44]]
116/116 [==============================] - 0s 84us/step
[1.8370159710275715, 0.5258620669101847]
Percentile:  3
[[34 26]
 [10  2]]
72/72 [==============================] - 0s 101us/step
[1.5071587827470567, 0.5]
Percentile:  4
[[12  1]
 [ 0  0]]
13/13 [==============================] - 0s 209us/step
[0.2590855062007904, 0.9230769276618958]
000000000000000000000000000000000000000000000000
Working on... NVDA
14.360220994475142
0.0
=========================================================
working on d,u and l,le 0.5 256 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 256 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.0001


=========================================================
=========================================================
=========================================================
=========================================================
=========================================================
maxd,maxu,maxl,maxle: 0.5 512 0.01 0.0001
Chart for BEST MODEL FOR: NVDA


F1,score 0.6376146788990826
G-score: 0.567310932377185
Accuracy 0.581272085226888
Window: 140
[[241 235]
 [239 417]]
Vol pos 3.920432739053575
Vol neg 3.5606024633117546
Real Percentage of gain: 186.7297501050502
Percentage of gain: 0.7879144652716261
Total gain: 891.9191746874808
000000000000000000000000000000000000000000000000
Percentile:  0
[[159 154]
 [ 89 157]]
559/559 [==============================] - 0s 70us/step
[1.7910408788162395, 0.5652951701595873]
Percentile:  1
[[ 65  52]
 [ 84 136]]
337/337 [==============================] - 0s 69us/step
[1.5925080019217923, 0.596439169183683]
Percentile:  2
[[17 14]
 [35 37]]
103/103 [==============================] - 0s 69us/step
[1.817469934815342, 0.5242718446601942]
Percentile:  3
[[ 0 15]
 [16 49]]
80/80 [==============================] - 0s 71us/step
[2.0493108570575713, 0.6125]
Percentile:  4
[[ 0  0]
 [14 37]]
51/51 [==============================] - 0s 154us/step
[1.3202303250630696, 0.7254901914035573]
000000000000000000000000000000000000000000000000
Working on... NFLX
14.669899702413757
0.00276273621394378
=========================================================
working on d,u and l,le 0.5 256 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 256 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 512 0.01 0.0001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.001


=========================================================
=========================================================
working on d,u and l,le 0.5 756 0.01 0.0001


=========================================================
=========================================================
=========================================================
=========================================================
=========================================================
maxd,maxu,maxl,maxle: 0.5 756 0.01 0.0001
Chart for BEST MODEL FOR: NFLX


F1,score 0.5397553516819572
G-score: 0.5008208911080347
Accuracy 0.46772767341210714
Window: 140
[[176 121]
 [481 353]]
Vol pos 4.475785499574997
Vol neg 4.215966059137474
Real Percentage of gain: -55.627080176122114
Percentage of gain: -0.1505933141693956
Total gain: -170.32103832558641
000000000000000000000000000000000000000000000000
Percentile:  0
[[100  70]
 [180 110]]
460/460 [==============================] - 0s 74us/step
[1.9236913624017136, 0.45652173964873605]
Percentile:  1
[[ 25  35]
 [139 128]]
327/327 [==============================] - 0s 83us/step
[2.142074805880905, 0.4678899083935886]
Percentile:  2
[[ 29   9]
 [124  71]]
233/233 [==============================] - 0s 90us/step
[2.3998137134339164, 0.4291845493562232]
Percentile:  3
[[21  6]
 [32 38]]
97/97 [==============================] - 0s 192us/step
[1.5102051926642348, 0.6082474226804123]
Percentile:  4
[[1 0]
 [6 5]]
12/12 [==============================] - 0s 87us/step
[0.9625670313835144, 0.5]
000000000000000000000000000000000000000000000000
Mean acc over portfolio: 0.5577852003356432
Mean gain over portfolio :  408.96977796621803
Real mean gain over portfolio 54.14901655840471

Ecco la matrice generale:
[[1978. 2154.]
 [2845. 4327.]]
Ecco le matrici per percentile
Percentile : 0
[[1098. 1261.]
 [1084. 1733.]]
Percentile : 1
[[ 451.  459.]
 [ 993. 1608.]]
Percentile : 2
[[223. 274.]
 [479. 580.]]
Percentile : 3
[[137. 120.]
 [193. 277.]]
Percentile : 4
[[100.  74.]
 [123. 121.]]
